# This file was generated by husky

# Syntax check and linting
echo "ğŸ” Running syntax checks and linting..."
npx lint-staged

# Check if linting passed
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed. Please fix the issues before committing."
  exit 1
fi

# Run basic syntax check
echo "ğŸ” Running syntax validation..."
npm run validate

# Check if validation passed
if [ $? -ne 0 ]; then
  echo "âŒ Validation failed. Please fix the issues before committing."
  exit 1
fi

# Increment build number
echo "ğŸ“ˆ Incrementing build number..."
node scripts/increment-build.js

# Check if build increment succeeded
if [ $? -ne 0 ]; then
  echo "âŒ Failed to increment build number."
  exit 1
fi

# Stage the updated build-version.json
git add build-version.json

echo "âœ… Pre-commit checks passed!"
